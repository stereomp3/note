## 組合語言

> 因為nand2tetris很陽春，所以組合語言跟一般不一樣(寫一個動作要兩句話)

```c
//在16384以後(24575)的位元控制螢幕輸出，1是黑，0是白
//在nand2tetris可以直接寫一行賦值只有 1，0，-1 (16 bits)
//要寫其他的值要用@數值 和 =A 去給
//讀取24576可以知道按鍵位置(ASCLL)

//Memery(adress 取 R0 的數值)s，裡面的值塞到D裡面
@R0   // A型指令 (寫入二進位數第一位一定是0)
D=M   // C型指令 

//D+Memery(adress 取 R1 的數值)
@R1
D=D+M

//D+17 D是存放值，可以利用M來存

@17 //指定adress @ --> at
D=D+A

//D塞給Memery(adress 取 R2 的數值)
@R2
M=D

// 跳到第5行指令指令 0;表示前面沒有程式碼
@5  //@會讓A的值跟者變
0;JMP

// 0~15預設是R0~R15，i是新變數，放在16，sum就放在17
@i
M=1
@sum
M=0
    

// 設A和D為D+1
AD = D+1
    
/*
這種多種賦值的寫法比較特殊，一般組合語言沒有
可以寫 DM, AM, AD, ADM
*/


//執行C
gcc ??.c -o ???
./???

//C語言轉組合語言
    sgcc -S ??.c -o ??.s
--> riscv64-unknown-elf-gcc -S add.c -o add.s

一行一行寫，組合語言是.asm


```

>判斷大小(if)、跳行

```c
// 直接跳行
0;JMP

// >=
// D大於等於0就跳到12位置
@12
D;JGE

/* <=   JLE */
/*  <   JLT */
/*  >   JGT */
/* !=   JNE */


// ==
// 判斷兩個地址的數值是不是一樣
// 設*16 = 7, *20 = 7
@16
D=M
@20
D=D-M  // 如果D==M，D=0
@0
D;JEQ  // D等於0就跳到0位置
```

